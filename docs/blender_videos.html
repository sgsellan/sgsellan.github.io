<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Blender Course II: Rendering an animation with Blender - Silvia Sellán</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-KB4LKK966Y"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-KB4LKK966Y');
</script>
<meta name="Description" content="PhD student at the University of Toronto"><meta property="og:title" content="Blender Course II: Rendering an animation with Blender" />
<meta property="og:description" content="Every few months, because of a deadline coming up, I find myself forgetting and having to look up these steps in old Slack threads and LaTeX comments. Also, it took me a long time to learn these steps because of the lack of a guide like this, so I write this in hopes it may help young students starting out.
I will assume that you have a set of meshes in ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.silviasellan.com/blender_videos.html" /><meta property="og:image" content="https://www.silviasellan.com/images/art/rushmore.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-24T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-01-24T00:00:00+00:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.silviasellan.com/images/art/rushmore.png"/>

<meta name="twitter:title" content="Blender Course II: Rendering an animation with Blender"/>
<meta name="twitter:description" content="Every few months, because of a deadline coming up, I find myself forgetting and having to look up these steps in old Slack threads and LaTeX comments. Also, it took me a long time to learn these steps because of the lack of a guide like this, so I write this in hopes it may help young students starting out.
I will assume that you have a set of meshes in ."/>
<meta name="application-name" content="Silvia Sellán">
<meta name="apple-mobile-web-app-title" content="Silvia Sellán"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon.png"><link rel="mask-icon" href="./safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="./site.webmanifest"><link rel="canonical" href="https://www.silviasellan.com/blender_videos.html" /><link rel="prev" href="https://www.silviasellan.com/siggraph_submission_resources.html" /><link rel="next" href="https://www.silviasellan.com/gender_question.html" /><link rel="stylesheet" href="./lib/normalize/normalize.min.css"><link rel="stylesheet" href="./css/style.min.css"><link rel="stylesheet" href="./lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="./lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Blender Course II: Rendering an animation with Blender",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/www.silviasellan.com\/blender_videos.html"
        },"genre": "posts","wordcount":  618 ,
        "url": "https:\/\/www.silviasellan.com\/blender_videos.html","datePublished": "2021-01-24T00:00:00+00:00","dateModified": "2021-01-24T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Silvia Sellán"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="./" title="Silvia Sellán">Silvia Sellán</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="./publications.html"> Publications </a><a class="menu-item" href="./cv.html"> CV </a><a class="menu-item" href="./art.html"> Art? </a><a class="menu-item" href="./posts.html"> Blog </a><a class="menu-item" href="./siggraph_submission_resources.html" title="A compiled list of resources to help with your paper deadline"> Paper writing </a><a class="menu-item" href="./grad_school.html" title="Resources for students considering starting in Geometry Processing"> New students </a><a class="menu-item" href="https://pritirrecetas.github.io/en/" title="Food Blog" rel="noopener noreffer" target="_blank"> Food </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="./" title="Silvia Sellán">Silvia Sellán</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="./publications.html" title="">Publications</a><a class="menu-item" href="./cv.html" title="">CV</a><a class="menu-item" href="./art.html" title="">Art?</a><a class="menu-item" href="./posts.html" title="">Blog</a><a class="menu-item" href="./siggraph_submission_resources.html" title="A compiled list of resources to help with your paper deadline">Paper writing</a><a class="menu-item" href="./grad_school.html" title="Resources for students considering starting in Geometry Processing">New students</a><a class="menu-item" href="https://pritirrecetas.github.io/en/" title="Food Blog" rel="noopener noreffer" target="_blank">Food</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><article class="page single"><h1 class="single-title animated flipInX">Blender Course II: Rendering an animation with Blender</h1><div class="content" id="content"><p>Every few months, because of a deadline coming up, I find myself forgetting and having to look up these steps in old Slack threads and LaTeX comments. Also, it took me a long time to learn these steps because of the lack of a guide like this, so I write this in hopes it may help young students starting out.</h3></p>
<p>I will assume that you have a set of meshes in <code>.obj</code> format, with ordered names like <code>iteration-001.obj, iteration-002.obj, &hellip; iteration-099.obj, iteration-100.obj</code>.</h3></p>
<ul>
<li>Open Blender (you can use my <a href="blender/template.blend" download>template file</a>).</li>
<li>Install the <a href="https://github.com/neverhood311/Stop-motion-OBJ">OBJ Sequence</a> Blender add-on.</li>
<li>In Blender, press SHIFT+a and choose Mesh-&gt;Mesh Sequence. Then, an empty object called &ldquo;sequence&rdquo; will appear in the scene. Select this object and go to Object Properties -&gt; Mesh Sequence. Choose the root folder where your <code>.obj</code> files are, being careful to uncheck relative pathing (this is a bug in the Mesh Sequence Add-on). Then, in &ldquo;file name&rdquo;, write a string which matches the beginning of the names of all meshes, like <code>iteration</code>. Finally, click &ldquo;Load Mesh Sequence&rdquo;. This can take a few minutes if your meshes are many or very large.</li>
<li>In Output Properties-&gt;Dimensions, choose the dimensions of your animation in pixels (for example, 1920x1080px). In some versions of Blender, the &ldquo;End&rdquo; frame is set to 250 by default. This will make your &ldquo;Baking&rdquo; step much more expensive than necessary if your animation contains way less meshes, and you may miss the end of your animation if there are more than 250 meshes in your sequence. Make the &ldquo;End&rdquo; value the total number of meshes in your sequence (careful with 1-indexing and 0-indexing).</li>
<li>Now, finalize all the details of your scene. It is especially important that at this step, you pick the materials and shading information for your mesh sequence, since you will not be able to change it afterwards. At this point, I usually save a copy of my <code>.blend</code> file called <code>pre-bake.blend</code> so that I can go back to this step if I want to iterate on my result.</li>
<li>In Object Properties-&gt;Mesh Sequence, choose Smooth or Flat shading and click &ldquo;Bake Mesh Sequence&rdquo;. Now, if you go to the &ldquo;Animation&rdquo; tab, you can press Play or drag the blue time bar to see the progression of your animation.</li>
<li>In Object Properties-&gt;Output, make sure your output directory is set to a known relative path like <code>//</code> or <code>//pngs/</code>. This is important, because some Blender make <code>/tmp/</code> by default and you may completely lose your renderings if you don&rsquo;t change this. Select &ldquo;File Extensions&rdquo;, unselect &ldquo;Cache Result&rdquo;, choose &ldquo;File Format: PNG&rdquo;, &ldquo;RGBA&rdquo;, &ldquo;Color Depth: 8&rdquo;, &ldquo;Compression: 15%&rdquo;, select &ldquo;Image Sequence: Overwrite&rdquo; and unselect &ldquo;Image Sequence: Placeholders&rdquo;. Save and exit Blender.</li>
<li>Now, in the command line and in the same directory as your <code>.blend</code> file. Run <code>blender -b filename.blend -a</code>. This will take a while.</li>
<li>The rendering step will create a sequence of <code>.png</code> like <code>001.png, 002.png, &hellip;, 099.png, 100.png</code>. These will be transparent, which doesn&rsquo;t look great for an animation, so we can preprocess these by running <code>mogrify -flatten *.png</code> (this assumes you&rsquo;ve installed <a href="https://imagemagick.org/script/download.php">ImageMagick</a>, which in MacOS you can do with <code>brew install imagemagick</code>).</li>
<li>Put the images together into a video by running <code>ffmpeg -r framerate -f image2 -s 1920x1080 -i %04d.png -vcodec libx264 -crf 15 -pix_fmt yuv420p video.mp4</code>, substituting <code>framerate</code> with how many of the pngs you want per second (this assumes you&rsquo;ve installed <a href="https://ffmpeg.org">ffempg</a>, which in MacOS you can do with <code>brew install ffmpeg</code>).</li>
<li><em>(Optional)</em> If you want to reduce the size of your final <code>.mp4</code> file, you can do so by running <code>HandBrakeCLI -i video.mp4 -o 'video-compressed.mp4' -O --preset 'Normal'</code> (this assumes you have installed <a href="https://handbrake.fr" target="_blank" rel="noopener noreffer">Handbrake</a>, which on a Mac is as easy as <code>brew install handbrake</code>)</li>
</ul>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
            
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="./blender_videos.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="./">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="./siggraph_submission_resources.html" class="prev" rel="prev" title="SIGGRAPH submission resource list"><i class="fas fa-angle-left fa-fw"></i>SIGGRAPH submission resource list</a>
            <a href="./gender_question.html" class="next" rel="next" title="Silvia, how would you ask about name and gender in this form?">Silvia, how would you ask about name and gender in this form?<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"></div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="./lib/katex/katex.min.css"><link rel="stylesheet" href="./lib/katex/copy-tex.min.css"><script type="text/javascript" src="./lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="./lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="./lib/lunr/lunr.min.js"></script><script type="text/javascript" src="./lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="./lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="./lib/katex/katex.min.js"></script><script type="text/javascript" src="./lib/katex/auto-render.min.js"></script><script type="text/javascript" src="./lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="./lib/katex/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"}};</script><script type="text/javascript" src="./js/theme.min.js"></script></body>
</html>
